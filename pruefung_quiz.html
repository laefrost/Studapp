<!DOCTYPE html>
<html class="nojs html css_verticalspacer" lang="de-DE">
 <head>

	<meta http-equiv="Content-type" content="text/html;charset=UTF-8"/>
	<meta name="generator" content="2018.1.0.386"/>
	<meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  
	<script src="js-quiz-pruefung.js"></script>
	<script src="parseJSON.js"></script> 
	<script src="bundle.js"></script> 
	<script src="js/navigation.js"></script> 
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
  
	<title>Quiz-Lernen</title>
  
	<!-- CSS -->
	<link rel="stylesheet" type="text/css" href="styles/quiz-pruefung.css" id="pagesheet"/>
	<link href="styles/output.css" type="text/css" rel="stylesheet" />
  
 </head>
 <body>
	<header class="lg:px-16 px-6 bg-green-600 h-auto md:h-24 flex flex-wrap items-center lg:py-0 py-2">

		<div class="flex items-center flex-shrink-0 text-white mr-6">
			<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" class="w-4 h-4 opacity-75">
				<path d="M3.33 8L10 12l10-6-10-6L0 6h10v2H3.33zM0 8v8l2-2.22V9.2L0 8zm10 12l-5-3-2-1.2v-6l7 4.2 7-4.2v6L10 20z" />
			</svg>
			<span class="font-semibold text-2xl tracking-tight m-2">Universit채t Regensburg</span>
		</div>
	
		<label for="menu-toggle" class="pointer-cursor lg:hidden block">
			<svg class="fill-current text-gray-900" xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 20 20">
				<title>menu</title>
				<path d="M0 3h20v2H0V3zm0 6h20v2H0V9zm0 6h20v2H0v-2z"></path>
			</svg>
		</label>
		<input class="hidden" type="checkbox" id="menu-toggle" />
	
		<div class="hidden lg:flex lg:items-center lg:w-auto w-full" id="menu">
			<div class="text-sm lg:flex-grow ">
				<a href="#responsive-header" class="block mt-4 w-1/8 pl-6 pr-6 lg:inline-block lg:mt-0 text-teal-100 hover:text-white mr-4 text-base">
					<button id="existing_questions_button" class="button_main" type="button" onclick="callIndex()">Studentenapp</button>
					<a href="#responsive-header" class="block mt-4  w-1/8 pl-6  pr-6 lg:inline-block lg:mt-0 text-teal-100 hover:text-white mr-4 text-base">
						<button id="new_question_button" class="button_main" type="button" onclick="callLernenPage()">Lernen</button>
					</a>
					<a href="#responsive-header" class="block mt-4 w-1/8  pl-6  pr-6 lg:inline-block lg:mt-0 text-teal-100 hover:text-white text-base">
						<button id="new_category_button" class="button_main" type="button" onclick="callPruefungPage()">Pruefung</button>
					</a>
					<a href="#responsive-header" class="block mt-4 w-1/8 pl-6  pr-6 lg:inline-block lg:mt-0 text-teal-100 hover:text-white text-base">
						<button id="existing_questions_button" class="button_main" type="button" onclick="callStudentsPerformancePage()">Leistungs체bersicht</button>
					</a>
	
			</div>
	
		</div>
	
	</header>
 <div class="flex py-20">
      <div class="container mx-auto px-6">
       <h2 class="text-4xl font-bold mb-2 text-white">
          Pr체fung
        </h2>
		<h3 class="text-2xl mb-8 text-gray-200" id = "h3_time">
			<div id="div_clock"> </div>
        </h3>
		<h4 class="text-2xl mb-8 text-gray-200" id = "h4_numb_questions">
			<div id="div_questionCount"> </div>
		</h4>
	  </div>
    </div>
	<section class="container mx-auto px-6 p-10">
		<div id = "box_pru">
		<div class="flex flex-wrap">
			<div class="w-full" id = "div_question">
				<p id="p_question"></p>
			</div>
		</div>
		<div class="flex flex-wrap" id="div_answer">
		</div>
		<div>
		<button class="btn_weiter text-white font-bold py-2 px-4 rounded-full" id="btn_prue">
		   <p id="nextButtonText">Weiter</p>
        </button>
		</div>
		
		<button class="btn_back text-white font-bold py-2 px-4 rounded-full" id="btn_back">
		   <p id="backBtnText">Zur체ck</p>
        </button>
		</div>
       
    </section>
	<script type="text/javascript">
		$(document).ready(function(){
	
			$.ajax({
				type: 'GET',
				url: 'https://projektseminarlfrb.herokuapp.com/categorys',
				dataType: 'json',
				success: function (data) {
					//let questions = JSON.stringify(data); 
					//console.log(data); 
					if(data == undefined || data == null || data.length == 0) {
						alert('Fehler beim Laden'); 
						window.location.href = './index.html'; 
					} else {
						createStatArray(data);
						createArrayPruefung();
						generateArray(data);
						//console.log(result);
					}
				},
				error: function (result){ 
					console.log(result);
					alert("Es gab einen Fehler beim Laden der Daten!"); 
	
			}}); 
		})
	

function generateArray(jsonFile){
  var maxQuestion = 10;
  parseTestQuestions(jsonFile, maxQuestion, function(response) {
    questions = response;
	console.log("Fraaaaaaaager"); 
	console.log(questions); 
    init(questions, maxQuestion);
  });
}



function init(questions, maxQuestion){
  console.log('init');

  var currentQuestion = 1;
  //var answers = dummyArray(maxQuestion);
  //replace_question_text();
  
  var time_in_minutes = 10;
  start_countdown('div_clock' ,time_in_minutes);
  var currentQuestion = 1;
  //buttonClick('div_questionCount', currentQuestion, maxQuestion, questions);
  console.log(questions); 
  fillAnswers('div_answer', questions, 0, maxQuestion);
}

/*function checkSaveArray(jsonFile, questions){
  var saveArray;
  if (localStorage.getItem('saveArrayQuiz') !== null) {
    saveArray = JSON.parse(localStorage.getItem("saveArrayQuiz"));
    init(questions, saveArray);
  }else{
    generateSaveArray(jsonFile, function(response) {
      saveArray = response;
      init(questions, saveArray);
    });
  }
} */

</script>
  </body>
</html>